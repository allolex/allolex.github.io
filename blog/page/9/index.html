
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Allolexicon</title>
  <meta name="author" content="Damon Davison">

  
  <meta name="description" content="I absolutely love this album! Here&rsquo;s a photo I took of Mothlite around the
time the album was released. <img src="http://farm8.staticflickr.com &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://allolex.net/blog/page/9">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Allolexicon" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="//cloud.typography.com/6830432/670582/css/fonts.css" />
<link href='http://fonts.googleapis.com/css?family=Oxygen+Mono' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7722373-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Allolexicon</a></h1>
  
    <h2>Language, software, photography and food</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:allolex.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/18/mothlite---the-one-in-the-water/">Mothlite - the One in the Water</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-18T00:00:00+00:00" pubdate data-updated="true">Feb 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I absolutely love this album! Here&rsquo;s a photo I took of Mothlite around the
time the album was released.</p>

<p><img src="http://farm8.staticflickr.com/7191/6895985103_afe5a3565b_o_d.jpg" alt="Mothlite at the
Scala" /></p>

<p><a href="http://southernrec.tumblr.com/post/17704014421/mothlite-from-%0Athe-debut-album-flax-of-reverie">southernrec</a>:</p>

<blockquote><p>Mothlite &ndash; from the debut album “Flax Of Reverie”. The album’s six pieces
encompass elements as diverse as choral madrigals cascading with strings, the
melody and dissonance of Arvo Part and Moondog and the cinematic, studio-as-
instrument manipulations of Pink Floyd, Coil, Cocteau Twins and late period
Talk Talk. Woodwind and percussion take their cue from the devotional mantras
of Alice Coltrane and Albert Ayler. O’Sullivan’s words are of the same
bloodline as Jorge Luis Borges, Lewis Carroll and Henry Williamson. Mothlite
will release their second album on K Scope in 2012.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/27/fifi-fatales-powder-puff/">Fifi Fatale’s Powder Puff Striptease, Filmed by Damon Allen Davison</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-27T00:00:00+00:00" pubdate data-updated="true">Jan 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/tumblr_files/tumblr_lygywpBthz1r95zg4o1_1280.jpg" alt="" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/08/billie-hiding-her-nose/">Billie Hiding Her Nose</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-08T00:00:00+00:00" pubdate data-updated="true">Jan 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://farm8.staticflickr.com/7333/9243844748_0ffe537b5e_o.png" alt="Billie hiding her nose" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/08/awesome-would-be-appropriate-here/">&#8220;Awesome&#8221; Would Be Appropriate Here.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-08T00:00:00+00:00" pubdate data-updated="true">Jan 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/tumblr_files/tumblr_lx2nshFy4s1r9rdxro1_1280.jpg" alt="" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/06/file-transfer-server/">Restricting Users When Setting Up a File Transfer Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-06T00:00:00+00:00" pubdate data-updated="true">Jan 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.howtoforge.com/restricting-users-to-sftp-plus-setting-up-%0Achrooted-ssh-sftp-debian-squeeze">Restricting users when setting up a file transfer
server</a></p>

<p>In my role of Production Manager at Southern, I keep running across rather,
shall we say &ldquo;sub-optimal&rdquo; server configurations for delivering masters,
artwork and other very large files to manufacturers.</p>

<p>For example, one of the plants we have worked with has a single SFTP account
for all their clients to upload their masters to. It&rsquo;s not an append-only
solution like an OS X &ldquo;Drop Box&rdquo; where people can&rsquo;t see what was uploaded&mdash;you
can potentially download other companies&#8217; masters. Another company we work
with for digital retail doesn&rsquo;t let you read anything, but you can see all of
their clients. There aren&rsquo;t many servers I think have been set up well.</p>

<p>I&rsquo;ve decided that it&rsquo;s a basic system administration skill to be able to set
up private, chrooted SFTP accounts for any number of users on a system, so I&rsquo;m
linking to this HOWTO, which worked very well for me. Just create a user and
home directory, add it to the &ldquo;transfer&rdquo; group, create a subdirectory under
the home and chmod it so it&rsquo;s world readable/writable/whatever.</p>

<p>A couple of important notes about the configuration:</p>

<ul>
<li>Make sure you put the &ldquo;Match&rdquo; stanza at the very end of the ssd_config file. I had a single directive after it, which sshd parsed as if it were part of the stanza. Not good.</li>
<li>Even though the entire path has to belong to and be writable only by root, you can still use the %h variable to chroot individual user directories, and then put useful directories underneath the home, for instance &ldquo;pick_up&rdquo; and &ldquo;drop_off&rdquo; or similar.</li>
</ul>


<p>Here&rsquo;s the bottom (and relevant) part of my sshd_config:</p>

<div>
  <pre><code class='python'>#Subsystem sftp /usr/lib/openssh/sftp-server
Subsystem sftp internal-sftp  
UsePAM yes  # not relevant to this discussion, but see my point 
            # above about Match being at the *bottom*
Match Group transfer    
  ChrootDirectory %h    
  AllowTCPForwarding no     
  X11Forwarding no  
  ForceCommand internal-sftp</code></pre>
</div>


<p><a href="http://www.howtoforge.com/restricting-users-to-sftp-plus-%0Asetting-up-chrooted-ssh-sftp-debian-squeeze">Read the HOWTO</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/21/simple-includes-using-markdown/">Simple Includes Using Markdown</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/12/three-talks-on-testing/">Three Talks on Testing (in Ruby)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/11/new-arrivals-on-and-in-exmouth-market/">New Arrivals on and in Exmouth Market</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/09/london-summertime/">London Summertime</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/07/rails-girls-south-florida/">Rails Girls South Florida</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/06/rubyweb/">Rubyweb</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/06/migrated-blog/">Migrated Blog</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/allolex">@allolex</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'allolex',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/109163345409867222990?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
Copyright &copy; 2010–2013 <a href="mailto:damon@allolex.net">Damon Davison</a>.
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'allolex';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
